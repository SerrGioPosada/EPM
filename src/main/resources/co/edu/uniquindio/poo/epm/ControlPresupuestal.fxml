<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import java.lang.String?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="co.edu.uniquindio.poo.epm.HelloController"
            stylesheets="@Style.css"
            fitToWidth="true" fitToHeight="true" styleClass="scroll-pane">
    <VBox spacing="20.0" styleClass="content-area">
        <padding>
            <Insets top="30.0" right="30.0" bottom="30.0" left="30.0"/>
        </padding>

        <!-- Header -->
        <VBox spacing="5.0">
            <Label text="Módulo de Gestión Financiera y Contable" style="-fx-text-fill: #6c757d; -fx-font-size: 12px; -fx-font-weight: 600;"/>
            <Label text="Control Presupuestal" styleClass="page-title" style="-fx-font-size: 28px;"/>
        </VBox>

        <!-- Filtros -->
        <HBox spacing="15.0" alignment="CENTER_LEFT" styleClass="filter-section">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
            </padding>

            <VBox spacing="5.0">
                <Label text="Proyecto" styleClass="detail-label"/>
                <ComboBox fx:id="cmbProject" promptText="Seleccione proyecto" styleClass="form-combo" prefWidth="250">
                    <items>
                        <javafx.collections.FXCollections fx:factory="observableArrayList">
                            <String fx:value="Proyecto Expansión Red Eléctrica"/>
                            <String fx:value="Modernización Subestaciones"/>
                            <String fx:value="Sistema de Alcantarillado"/>
                        </javafx.collections.FXCollections>
                    </items>
                </ComboBox>
            </VBox>

            <VBox spacing="5.0">
                <Label text="Período" styleClass="detail-label"/>
                <ComboBox fx:id="cmbPeriod" promptText="Seleccione período" styleClass="form-combo" prefWidth="180">
                    <items>
                        <javafx.collections.FXCollections fx:factory="observableArrayList">
                            <String fx:value="2025 - Q1"/>
                            <String fx:value="2025 - Q2"/>
                            <String fx:value="2025 - Q3"/>
                            <String fx:value="2025 - Q4"/>
                        </javafx.collections.FXCollections>
                    </items>
                </ComboBox>
            </VBox>

            <Button text="Consultar" styleClass="btn-primary" prefHeight="40">
                <padding>
                    <Insets top="10.0" right="30.0" bottom="10.0" left="30.0"/>
                </padding>
            </Button>
        </HBox>

        <!-- Stats Grid -->
        <GridPane hgap="20.0" vgap="20.0">
            <columnConstraints>
                <ColumnConstraints percentWidth="25.0"/>
                <ColumnConstraints percentWidth="25.0"/>
                <ColumnConstraints percentWidth="25.0"/>
                <ColumnConstraints percentWidth="25.0"/>
            </columnConstraints>

            <VBox spacing="10.0" GridPane.columnIndex="0" alignment="CENTER" styleClass="stat-card">
                <padding>
                    <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
                </padding>
                <Label text="Presupuesto Asignado" styleClass="stat-label"/>
                <Label fx:id="lblAssignedBudget" text="12.500M COP" styleClass="stat-value"/>
            </VBox>

            <VBox spacing="10.0" GridPane.columnIndex="1" alignment="CENTER" styleClass="stat-card">
                <padding>
                    <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
                </padding>
                <Label text="Presupuesto Ejecutado" styleClass="stat-label"/>
                <Label fx:id="lblExecutedBudget" text="10.000M COP" styleClass="stat-value" style="-fx-text-fill: #FFA726;"/>
            </VBox>

            <VBox spacing="10.0" GridPane.columnIndex="2" alignment="CENTER" styleClass="stat-card">
                <padding>
                    <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
                </padding>
                <Label text="Saldo Disponible" styleClass="stat-label"/>
                <Label fx:id="lblAvailableBalance" text="2.500M COP" styleClass="stat-value" style="-fx-text-fill: #66BB6A;"/>
            </VBox>

            <VBox spacing="10.0" GridPane.columnIndex="3" alignment="CENTER" styleClass="stat-card">
                <padding>
                    <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
                </padding>
                <Label text="Ejecución" styleClass="stat-label"/>
                <Label fx:id="lblExecutionPercent" text="80%" styleClass="stat-value" style="-fx-text-fill: #43A047;"/>
            </VBox>
        </GridPane>

        <!-- Transactions Table -->
        <VBox spacing="15.0" styleClass="card-base">
            <padding>
                <Insets top="25.0" right="25.0" bottom="25.0" left="25.0"/>
            </padding>

            <HBox alignment="CENTER_LEFT">
                <Label text="Movimientos Presupuestales" styleClass="section-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="Exportar" styleClass="btn-secondary">
                    <padding>
                        <Insets top="8.0" right="20.0" bottom="8.0" left="20.0"/>
                    </padding>
                </Button>
            </HBox>

            <TableView fx:id="tblBudgetMovements" prefHeight="450" minHeight="450" style="-fx-background-color: white; -fx-text-fill: black; -fx-font-size: 14px;">
                <placeholder>
                    <Label text="No hay movimientos registrados" styleClass="text-muted"/>
                </placeholder>
            </TableView>
        </VBox>

    </VBox>
</ScrollPane>
